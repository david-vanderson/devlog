---
.title = "DVUI Devlog 2026",
.date = @date("2026-01-01T00:00:00"),
.author = "David Vanderson",
.layout = "devlog.shtml",
.draft = false,
--- 
[]($section.id('about'))

[RSS Feed]($link.page('log').alternative('rss'))

[Archive](/log/)

## [January 2026]($section.id("2026-02-03"))
**3** people contributed this month with **65** commits.

#### Accesskit Text Runs

Giant thanks to **Paul Hatchman** for adding text run support to our Accesskit integration!

Screen readers can now navigate normally through textLayout and textEntry content.

This is the last large piece needed for decent screen reader support.  Wohoo!

While we will continue work in this area for bugs and enhancements, this is a huge milestone.

Big thanks to **Arnold Loubriat** for helping us use Accesskit properly and for loads of testing!

Shout out to **Ethin Probst** for excellent reporting and testing!


#### Retaining Textures and Data

dvui implements a form of garbage collection for textures and data.  If you don't reference a texture or call dataGet/Set for a frame, we free that memory.  But sometimes you want to keep things around a bit longer.

Now we provide functions `textureRetain`, `dataRetain`, and `retainClear`.

These give a way to keep dvui from freeing these things, while associating them with a "retain key".  That key can be passed later to `retainClear` to tell dvui to stop retaining them.

This was motivated by the demo's stuttering when reshowing the demo buttons (which trigger regenerating a bunch of textures).  It's now fixed by:
* retaining the generated textures and associated data
* the retain key is the demo window id
* the demo window has a placeholder data with `dataSetDeinitFunction` which calls `retainClear`

So the flow is:
* while the demo window is shown, we retain the textures/data
* when the demo window is closed, we free the placeholder data
* the deinit function calls retainClear
* the textures/data are freed

These features all come together to allow retaining data to match the lifetime of some higher level widget.

#### More Improvements:

* floatingWindow: add `autoPosition()` to center (after a resize)
* floatingWindow: option to disable resizing
* web backend: changes to enable more javascript customization



## [December 2025]($section.id("2026-01-01"))
**6** people contributed this month with **56** commits.

#### Fonts

Font selection got a major upgrade.  Until now we had to refer to an individual font ttf.

Now `Font` acts like a query that searches for a matching `Font.Source`:

* `.font = .theme(.heading)`
* `.font = Font.theme(.heading).larger(2)`
* `.font = dvui.themeGet().font_mono.withWeight(.bold).withStyle(.italic)`

`dvui.Theme` has 4 fonts (body, heading, title, mono) and grew an `embedded_fonts` field so that font sources can be tied to the theme that requires them.

For now we still only have a single pool of `Font.Source` that is internal to dvui.  In the future we hope to extend this to be able to query for system fonts.

#### Syntax Highlighting

We are now bundling the tree-sitter library, and TextEntryWidget gained a `tree_sitter` option.

The usage code is responsible for providing:
* tree-sitter grammar
* queries strings (usually these are called "highlights.scm")
* list of matching capture names and `dvui.Options`

Right now an example is only in the main window of the "app" example (like `zig build sdl3-app`), but eventually we will figure out a way to integrate it into the demo window.

This integrates with `.cache_layout = true` to provide incremental edit parse updates and good performance on large documents.

Any feedback would be welcome!

#### More Improvements:

* dvui.dataSetDeinitFunction: can provide a callback for when some data is being trashed 
  * useful for tracking data allocated by a separate library
* expose more build-time options
  * stb_image
  * libc
  * freetype
  * tiny file dialogs
* fixed toast centering and visual glitches when multiple different sized toasts are together
* textEntry: textGet() return value stays valid after deinit()
* web: don't process ctrl-tab
  * in some browsers we were preventing ctrl-tab from switching tabs
* tree: allow animating a branch closing
* flexbox: add border_collapse and row/col
* raylib: updated dependency that fixes a lot of hidpi issues
* web: fix performance issue

Thank you to everyone who asked questions, filed issues, and contributed!
